<html>
<head>
<style>
  #start {
    background-color: green;
  }

  #stop {
    background-color: red;
  }
</style>
</head>
<body>
  <button id="start">
    Start
  </button>
  <button id="stop">
    Stop
  </button>
  <br>
  <span>Master Volume</span>
  <br>
  <input type="range" id="volume-control" min="0" max="1" step="0.05" value="0.1"><br>
  <input type="radio" id="sin-wave" name="waveform" value="sine"
         checked>
  <label for="sin-wave">Sin Wave</label><br>
  <input type="radio" id="square-wave" name="waveform" value="square">
  <label for="square-wave">Square Wave</label><br>
  <input type="radio" id="triangle-wave" name="waveform" value="triangle">
  <label for="triangle-wave">Triangle Wave</label><br>
  <input type="radio" id="sawtooth-wave" name="waveform" value="sawtooth">
  <label for="sawtooth">Sawtooth Wave</label>
  <p>Source: <a href="https://medium.com/geekculture/building-a-modular-synth-with-web-audio-api-and-javascript-d38ccdeca9ea">Building a modular synth with web audio API and javascript</a></p>
</body>
<script language="JavaScript">
  var AudioContext = window.AudioContext ||
    window.webkitAudioContext;

  const context = new AudioContext();
  const masterVolume = context.createGain();
  masterVolume.connect(context.destination);

  const startButton = document.querySelector('#start');
  const stopButton = document.querySelector('#stop');
  const volumeControl = document.querySelector('#volume-control')
  masterVolume.gain.value = .1;

  volumeControl.addEventListener('input', changeVolume);

  function changeVolume() {
  	masterVolume.gain.value = this.value;
  }

  const waveforms = document.getElementsByName('waveform');
  let waveform;

  function setWaveform() {
    for(var i = 0; i < waveforms.length; i++){
        if(waveforms[i].checked){
            waveform = waveforms[i].value;
        }
    }
  }

  startButton.addEventListener('click', function() {
    const oscillator = context.createOscillator();
    oscillator.frequency.setValueAtTime(220, 0);
    oscillator.connect(masterVolume);
    oscillator.start(0);
    oscillator.type = waveform;
    stopButton.addEventListener('click', function() {
      oscillator.stop(0);
      delete oscillator;
    });
    waveforms.forEach((waveformInput) => {
      waveformInput.addEventListener('change', function() {
        setWaveform();
        oscillator.type = waveform;
    	});
  	});
  });
</script>
</html>
